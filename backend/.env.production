# 教师管理系统生产环境配置文件
# 复制此文件为 .env 并根据实际情况修改配置

# ============================================
# 应用配置
# ============================================
NODE_ENV=production
PORT=3002
APP_NAME=teacher-manager
APP_VERSION=1.0.0

# ============================================
# 数据库配置
# ============================================
# MySQL数据库连接信息
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=teacher_user
DB_PASSWORD=your_secure_password_here
DB_DATABASE=teacher_manager

# 数据库连接池配置
DB_CONNECTION_LIMIT=10
DB_ACQUIRE_TIMEOUT=30000
DB_TIMEOUT=30000
DB_RECONNECT=true
DB_IDLE_TIMEOUT=300000

# ============================================
# JWT配置
# ============================================
# JWT密钥（请使用强密码）
JWT_SECRET=your_very_secure_jwt_secret_key_here_change_this_in_production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# 文件上传配置
# ============================================
# 文件上传路径
UPLOAD_PATH=/var/www/teacher-manager/backend/uploads
# 最大文件大小（字节）
MAX_FILE_SIZE=52428800
# 允许的文件类型
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,ppt,pptx

# ============================================
# 安全配置
# ============================================
# CORS配置
CORS_ORIGIN=http://your-domain.com
# 或者允许多个域名：http://domain1.com,http://domain2.com
# 开发环境可以使用：http://localhost:5173

# 密码加密轮数
BCRYPT_ROUNDS=12

# 会话配置
SESSION_SECRET=your_session_secret_here
SESSION_MAX_AGE=86400000

# ============================================
# 日志配置
# ============================================
# 日志级别：error, warn, info, debug
LOG_LEVEL=info
# 日志文件路径
LOG_FILE_PATH=/var/log/teacher-manager/app.log
# 日志文件最大大小（MB）
LOG_MAX_SIZE=10
# 保留的日志文件数量
LOG_MAX_FILES=5

# ============================================
# 邮件配置（可选）
# ============================================
# SMTP服务器配置
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASS=your_email_password
SMTP_FROM=noreply@your-domain.com

# ============================================
# 缓存配置（可选）
# ============================================
# Redis配置（如果使用Redis缓存）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# 监控配置
# ============================================
# 健康检查端点
HEALTH_CHECK_ENABLED=true
# API限流配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# 第三方服务配置（可选）
# ============================================
# 短信服务配置
SMS_PROVIDER=
SMS_API_KEY=
SMS_SECRET_KEY=

# 对象存储配置（如阿里云OSS、腾讯云COS等）
OSS_PROVIDER=
OSS_ACCESS_KEY=
OSS_SECRET_KEY=
OSS_BUCKET=
OSS_REGION=
OSS_ENDPOINT=

# ============================================
# 开发调试配置
# ============================================
# 是否启用SQL日志
DB_LOGGING=false
# 是否启用详细错误信息
DETAILED_ERRORS=false
# 是否启用API文档
API_DOCS_ENABLED=false