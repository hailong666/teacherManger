import{B as j,b as ut,c as ee,r as n,v as te,o as rt,d as p,x as dt,e as o,f as m,m as f,w as a,l as _,g as l,y as c,h as u,j as fe,C as Ce,i as r,t as v,F as q,z as N,D as it,A as ct,E as xe,G as Ve}from"./main-2e31a8b5.js";import{g as vt}from"./article-f0ff84fc.js";import{_ as pt}from"./_plugin-vue_export-helper-c27b6911.js";function mt(C){return j({url:"/recitation",method:"get",params:C})}function ft(C){return j({url:"/recitation",method:"post",data:C})}function gt(C,J){return j({url:`/recitation/${C}/grade`,method:"put",data:J})}function Se(C){return j({url:"/recitation/mark-complete",method:"post",data:C})}function yt(){return j({url:"/classes",method:"get"})}function _t(C){return j({url:"/recitation/stats",method:"get",params:C})}const kt={class:"recitation-container"},bt={class:"card-header"},ht={class:"task-stats"},It={class:"card-header"},wt={class:"task-stats"},Ct={class:"card-header"},xt={class:"header-actions"},Vt={key:0},St={style:{"font-weight":"500"}},Ut={key:1},$t={key:1},Rt={key:0},Mt={key:1},zt={class:"recitation-content"},Ft={class:"quick-mark-container"},At={class:"quick-mark-header"},Dt={class:"class-selector"},qt={key:0,class:"batch-actions"},Nt={class:"selection-count"},Bt={key:0,class:"quick-mark-table"},Tt={class:"student-info"},jt={class:"student-avatar-small"},Et={class:"article-header"},Gt={class:"article-title-small"},Lt={key:1,class:"empty-state"},Pt={key:2,class:"empty-state"},Ot={class:"dialog-footer"},Qt={class:"footer-info"},Ht={key:0},Jt={class:"footer-actions"},Kt={class:"article-content"},Wt={class:"article-text"},Xt={class:"article-meta"},Yt={__name:"Recitation",setup(C){const J=ut(),y=ee(()=>J.userRole),le=n(!1),ae=n(!1),se=n(!1),oe=n(!1),K=n(!1),ne=n([]),E=n([]),ge=n([]),B=n([]);n([]);const W=n([]),F=n([]);n(null);const S=n(null);n(null);const ye=n(0),ue=n(1),re=n(10),de=n(""),ie=n(""),ce=n(!1),G=n(!1),L=n(!1),P=n(!1),O=n(!1),Q=n(null),U=te({score:null,feedback:""}),V=te({classId:"",content:"",audioUrl:""}),i=te({classId:"",studentId:"",articleId:"",remark:""}),k=te({classId:""}),b=n(new Map),$=n([]),X=n([]),Ue={score:[{required:!0,message:"请输入分数",trigger:"blur"}]},$e={classId:[{required:!0,message:"请选择班级",trigger:"change"}],content:[{required:!0,message:"请输入背诵内容",trigger:"blur"}]},Re={classId:[{required:!0,message:"请选择班级",trigger:"change"}],studentId:[{required:!0,message:"请选择学生",trigger:"change"}],articleId:[{required:!0,message:"请选择课文",trigger:"change"}]},R=n({total:0,pending:0,graded:0,averageScore:0}),_e=n(),ke=n(),be=n();n();const M=async()=>{var s;try{le.value=!0;const e={page:ue.value,limit:re.value,status:de.value,classId:ie.value||void 0},g=await mt(e);if(ne.value=g.recitations||[],ye.value=((s=g.pagination)==null?void 0:s.total)||0,y.value==="student"){const d=new Date().toDateString();ce.value=ne.value.some(h=>h.studentId===J.user.id&&new Date(h.createdAt).toDateString()===d)}}catch(e){console.error("加载背诵记录失败:",e),c.error("加载背诵记录失败")}finally{le.value=!1}},Me=async()=>{try{const s=await yt();E.value=s.classes||[],y.value==="student"&&(ge.value=E.value)}catch(s){console.error("加载班级列表失败:",s),c.error("加载班级列表失败")}},T=async()=>{try{const s=await _t();R.value=s.stats||{total:0,pending:0,graded:0,averageScore:0}}catch(s){console.error("加载统计数据失败:",s),c.error("加载统计数据失败")}},ze=async()=>{try{await _e.value.validate(),ae.value=!0,await gt(Q.value.id,U),c.success("评分成功"),G.value=!1,Ne(),M(),T()}catch{c.error("评分失败")}finally{ae.value=!1}},Fe=s=>{Q.value=s,Object.assign(U,{score:null,feedback:""}),G.value=!0},Ae=async()=>{try{await ke.value.validate(),se.value=!0,await ft(V),c.success("提交成功"),L.value=!1,Be(),M(),T()}catch{c.error("提交失败")}finally{se.value=!1}},De=s=>{xe.alert(s.content,"背诵内容",{confirmButtonText:"确定"})},qe=s=>{const e=`
    <div style="text-align: left;">
      <h3 style="margin-bottom: 15px; color: #333;">${s.title}</h3>
      <div style="margin-bottom: 10px;">
        <span style="background: #f0f2f5; padding: 4px 8px; border-radius: 4px; margin-right: 8px; font-size: 12px;">${s.category}</span>
        <span style="background: #fff7e6; color: #fa8c16; padding: 4px 8px; border-radius: 4px; font-size: 12px;">难度: ${s.difficulty}</span>
      </div>
      <div style="line-height: 1.8; color: #555; white-space: pre-wrap; max-height: 400px; overflow-y: auto; border: 1px solid #e8e8e8; padding: 15px; border-radius: 6px; background: #fafafa;">${s.content}</div>
    </div>
  `;xe({title:"课文详情",message:e,dangerouslyUseHTMLString:!0,confirmButtonText:"确定",customStyle:{width:"600px"}})},Ne=()=>{Object.assign(U,{score:null,feedback:""}),Q.value=null},Be=()=>{Object.assign(V,{classId:"",content:"",audioUrl:""})},Te=async()=>{try{const s=await vt();B.value=s.articles||[]}catch(s){console.error("加载课文列表失败:",s),c.error("加载课文列表失败")}},je=async()=>{var s;if(!i.classId){W.value=[];return}try{const e=await Ve(i.classId);W.value=((s=e.class)==null?void 0:s.students)||[],i.studentId=""}catch(e){console.error("加载学生列表失败:",e),c.error("加载学生列表失败")}},Ee=()=>{i.articleId?S.value=B.value.find(s=>s.id===i.articleId):S.value=null},Ge=async()=>{try{await be.value.validate(),oe.value=!0;const s={studentId:i.studentId,articleId:i.articleId,classId:i.classId,remark:i.remark};await Se(s),c.success("手动打卡成功"),P.value=!1,Le(),M(),T()}catch(s){console.error("手动打卡失败:",s),c.error("手动打卡失败")}finally{oe.value=!1}},Le=()=>{Object.assign(i,{classId:"",studentId:"",articleId:"",remark:""}),W.value=[],S.value=null},Pe=async()=>{var s;if(!k.classId){F.value=[],X.value=[];return}try{const e=await Ve(k.classId);F.value=((s=e.class)==null?void 0:s.students)||[],X.value=F.value.map(g=>({studentId:g.id,studentName:g.name})),b.value.clear(),$.value=[]}catch(e){console.error("加载学生列表失败:",e),c.error("加载学生列表失败")}},ve=(s,e)=>b.value.has(`${s}-${e}`),Oe=(s,e)=>{const g=`${s}-${e}`;b.value.has(g)?b.value.delete(g):b.value.set(g,!0)},Qe=s=>{$.value=s},He=()=>{$.value.forEach(s=>{B.value.forEach(e=>{const g=`${s.studentId}-${e.id}`;b.value.set(g,!0)})}),c.success(`已为 ${$.value.length} 名学生标记所有课文`)},Je=()=>{b.value.clear(),$.value=[],c.success("已清空所有标记")},Ke=async()=>{if(b.value.size===0){c.warning("请先进行标记");return}if(!k.classId){c.warning("请先选择班级");return}try{K.value=!0;const s=[];for(const[e,g]of b.value){const[d,h]=e.split("-");s.push(Se({studentId:parseInt(d),articleId:parseInt(h),classId:k.classId,remark:"快速批量标记"}))}await Promise.all(s),c.success(`成功标记 ${b.value.size} 项背诵任务`),O.value=!1,We(),M(),T()}catch(s){console.error("批量标记失败:",s),c.error("批量标记失败，请重试")}finally{K.value=!1}},We=()=>{k.classId="",F.value=[],X.value=[],b.value.clear(),$.value=[]},Xe=s=>({古诗词:"success",现代诗:"primary",散文:"warning",文言文:"danger"})[s]||"info",Ye=ee(()=>$.value.length>0),Ze=ee(()=>$.value.length),et=ee(()=>b.value.size>0),tt=s=>{s&&new Audio(s).play().catch(()=>{c.error("音频播放失败")})},lt=s=>({pending:"warning",graded:"success"})[s]||"info",at=s=>({pending:"待评分",graded:"已评分"})[s]||"未知";return rt(()=>{M(),Me(),T(),Te()}),(s,e)=>{const g=p("el-icon"),d=p("el-button"),h=p("el-statistic"),A=p("el-col"),he=p("el-row"),pe=p("el-card"),x=p("el-option"),D=p("el-select"),I=p("el-table-column"),H=p("el-tag"),Ie=p("el-table"),st=p("el-pagination"),w=p("el-form-item"),ot=p("el-input-number"),Y=p("el-input"),me=p("el-form"),Z=p("el-dialog"),we=p("el-empty"),nt=dt("loading");return o(),m("div",kt,[y.value==="student"?(o(),f(pe,{key:0,class:"recitation-card"},{header:a(()=>[u("div",bt,[e[25]||(e[25]=u("h3",null,"今日背诵打卡",-1)),l(d,{type:"primary",onClick:e[0]||(e[0]=t=>L.value=!0),disabled:ce.value},{default:a(()=>[l(g,null,{default:a(()=>[l(fe(Ce))]),_:1}),r(" "+v(ce.value?"今日已打卡":"提交打卡"),1)]),_:1},8,["disabled"])])]),default:a(()=>[u("div",ht,[l(he,{gutter:20},{default:a(()=>[l(A,{span:8},{default:a(()=>[l(h,{title:"总打卡数",value:R.value.total},null,8,["value"])]),_:1}),l(A,{span:8},{default:a(()=>[l(h,{title:"已评分",value:R.value.graded},null,8,["value"])]),_:1}),l(A,{span:8},{default:a(()=>[l(h,{title:"平均分",value:R.value.averageScore},null,8,["value"])]),_:1})]),_:1})])]),_:1})):_("",!0),y.value==="teacher"||y.value==="admin"?(o(),f(pe,{key:1,class:"recitation-card"},{header:a(()=>[u("div",It,[e[27]||(e[27]=u("h3",null,"背诵打卡统计",-1)),l(d,{onClick:T},{default:a(()=>[...e[26]||(e[26]=[r("刷新统计",-1)])]),_:1})])]),default:a(()=>[u("div",wt,[l(he,{gutter:20},{default:a(()=>[l(A,{span:6},{default:a(()=>[l(h,{title:"总打卡数",value:R.value.total},null,8,["value"])]),_:1}),l(A,{span:6},{default:a(()=>[l(h,{title:"待评分",value:R.value.pending},null,8,["value"])]),_:1}),l(A,{span:6},{default:a(()=>[l(h,{title:"已评分",value:R.value.graded},null,8,["value"])]),_:1}),l(A,{span:6},{default:a(()=>[l(h,{title:"平均分",value:R.value.averageScore},null,8,["value"])]),_:1})]),_:1})])]),_:1})):_("",!0),l(pe,{class:"recitation-card"},{header:a(()=>[u("div",Ct,[e[31]||(e[31]=u("h3",null,"背诵打卡记录",-1)),u("div",xt,[l(D,{modelValue:de.value,"onUpdate:modelValue":e[1]||(e[1]=t=>de.value=t),placeholder:"筛选状态",style:{width:"120px","margin-right":"10px"}},{default:a(()=>[l(x,{label:"全部",value:""}),l(x,{label:"待评分",value:"pending"}),l(x,{label:"已评分",value:"graded"})]),_:1},8,["modelValue"]),y.value==="teacher"||y.value==="admin"?(o(),f(D,{key:0,modelValue:ie.value,"onUpdate:modelValue":e[2]||(e[2]=t=>ie.value=t),placeholder:"筛选班级",style:{width:"120px","margin-right":"10px"}},{default:a(()=>[l(x,{label:"全部班级",value:""}),(o(!0),m(q,null,N(E.value,t=>(o(),f(x,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):_("",!0),l(d,{onClick:M},{default:a(()=>[...e[28]||(e[28]=[r("刷新",-1)])]),_:1}),y.value==="teacher"||y.value==="admin"?(o(),f(d,{key:1,type:"success",onClick:e[3]||(e[3]=t=>P.value=!0)},{default:a(()=>[l(g,null,{default:a(()=>[l(fe(Ce))]),_:1}),e[29]||(e[29]=r(" 手动打卡 ",-1))]),_:1})):_("",!0),y.value==="teacher"||y.value==="admin"?(o(),f(d,{key:2,type:"primary",onClick:e[4]||(e[4]=t=>O.value=!0)},{default:a(()=>[l(g,null,{default:a(()=>[l(fe(it))]),_:1}),e[30]||(e[30]=r(" 快速标记完成 ",-1))]),_:1})):_("",!0)])])]),default:a(()=>[ct((o(),f(Ie,{data:ne.value,style:{width:"100%"}},{default:a(()=>[y.value==="teacher"||y.value==="admin"?(o(),f(I,{key:0,prop:"studentName",label:"学生",width:"120"})):_("",!0),l(I,{prop:"className",label:"班级",width:"120"}),l(I,{label:"课文",width:"150"},{default:a(({row:t})=>[t.article?(o(),m("div",Vt,[u("div",St,v(t.article.title),1),l(H,{size:"small",style:{"margin-top":"4px"}},{default:a(()=>[r(v(t.article.category),1)]),_:2},1024)])):(o(),m("span",Ut,"自由背诵"))]),_:1}),l(I,{prop:"content",label:"背诵内容","min-width":"200","show-overflow-tooltip":""}),l(I,{prop:"audioUrl",label:"音频",width:"100"},{default:a(({row:t})=>[t.audioUrl?(o(),f(d,{key:0,size:"small",onClick:z=>tt(t.audioUrl)},{default:a(()=>[...e[32]||(e[32]=[r("播放",-1)])]),_:1},8,["onClick"])):(o(),m("span",$t,"无音频"))]),_:1}),l(I,{prop:"score",label:"分数",width:"80"},{default:a(({row:t})=>[t.score!==null?(o(),m("span",Rt,v(t.score),1)):(o(),m("span",Mt,"-"))]),_:1}),l(I,{prop:"status",label:"状态",width:"100"},{default:a(({row:t})=>[l(H,{type:lt(t.status)},{default:a(()=>[r(v(at(t.status)),1)]),_:2},1032,["type"])]),_:1}),l(I,{prop:"createdAt",label:"提交时间",width:"180"}),l(I,{label:"操作",width:"160"},{default:a(({row:t})=>[l(d,{size:"small",onClick:z=>De(t)},{default:a(()=>[...e[33]||(e[33]=[r("查看",-1)])]),_:1},8,["onClick"]),t.article?(o(),f(d,{key:0,size:"small",type:"info",onClick:z=>qe(t.article)},{default:a(()=>[...e[34]||(e[34]=[r("课文",-1)])]),_:1},8,["onClick"])):_("",!0),(y.value==="teacher"||y.value==="admin")&&t.status==="pending"?(o(),f(d,{key:1,size:"small",type:"primary",onClick:z=>Fe(t)},{default:a(()=>[...e[35]||(e[35]=[r("评分",-1)])]),_:1},8,["onClick"])):_("",!0)]),_:1})]),_:1},8,["data"])),[[nt,le.value]]),l(st,{"current-page":ue.value,"onUpdate:currentPage":e[5]||(e[5]=t=>ue.value=t),"page-size":re.value,"onUpdate:pageSize":e[6]||(e[6]=t=>re.value=t),total:ye.value,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:M,onCurrentChange:M,style:{"margin-top":"20px","text-align":"right"}},null,8,["current-page","page-size","total"])]),_:1}),l(Z,{modelValue:G.value,"onUpdate:modelValue":e[10]||(e[10]=t=>G.value=t),title:"评分背诵",width:"500px"},{footer:a(()=>[l(d,{onClick:e[9]||(e[9]=t=>G.value=!1)},{default:a(()=>[...e[36]||(e[36]=[r("取消",-1)])]),_:1}),l(d,{type:"primary",onClick:ze,loading:ae.value},{default:a(()=>[...e[37]||(e[37]=[r("提交评分",-1)])]),_:1},8,["loading"])]),default:a(()=>[l(me,{model:U,rules:Ue,ref_key:"gradeFormRef",ref:_e,"label-width":"80px"},{default:a(()=>[l(w,{label:"学生"},{default:a(()=>{var t;return[u("span",null,v((t=Q.value)==null?void 0:t.studentName),1)]}),_:1}),l(w,{label:"背诵内容"},{default:a(()=>{var t;return[u("div",zt,v((t=Q.value)==null?void 0:t.content),1)]}),_:1}),l(w,{label:"分数",prop:"score"},{default:a(()=>[l(ot,{modelValue:U.score,"onUpdate:modelValue":e[7]||(e[7]=t=>U.score=t),min:0,max:100,placeholder:"请输入分数",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(w,{label:"评语"},{default:a(()=>[l(Y,{modelValue:U.feedback,"onUpdate:modelValue":e[8]||(e[8]=t=>U.feedback=t),type:"textarea",rows:3,placeholder:"请输入评语（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(Z,{modelValue:L.value,"onUpdate:modelValue":e[15]||(e[15]=t=>L.value=t),title:"提交背诵打卡",width:"500px"},{footer:a(()=>[l(d,{onClick:e[14]||(e[14]=t=>L.value=!1)},{default:a(()=>[...e[38]||(e[38]=[r("取消",-1)])]),_:1}),l(d,{type:"primary",onClick:Ae,loading:se.value},{default:a(()=>[...e[39]||(e[39]=[r("提交",-1)])]),_:1},8,["loading"])]),default:a(()=>[l(me,{model:V,rules:$e,ref_key:"submitFormRef",ref:ke,"label-width":"100px"},{default:a(()=>[l(w,{label:"选择班级",prop:"classId"},{default:a(()=>[l(D,{modelValue:V.classId,"onUpdate:modelValue":e[11]||(e[11]=t=>V.classId=t),placeholder:"请选择班级",style:{width:"100%"}},{default:a(()=>[(o(!0),m(q,null,N(ge.value,t=>(o(),f(x,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(w,{label:"背诵内容",prop:"content"},{default:a(()=>[l(Y,{modelValue:V.content,"onUpdate:modelValue":e[12]||(e[12]=t=>V.content=t),type:"textarea",rows:4,placeholder:"请输入您的背诵内容"},null,8,["modelValue"])]),_:1}),l(w,{label:"音频文件"},{default:a(()=>[l(Y,{modelValue:V.audioUrl,"onUpdate:modelValue":e[13]||(e[13]=t=>V.audioUrl=t),placeholder:"请输入音频文件URL（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(Z,{modelValue:O.value,"onUpdate:modelValue":e[18]||(e[18]=t=>O.value=t),title:"快速标记完成",width:"1200px",top:"5vh"},{footer:a(()=>[u("div",Ot,[u("div",Qt,[k.classId?(o(),m("span",Ht,"共 "+v(F.value.length)+" 名学生，"+v(B.value.length)+" 篇课文",1)):_("",!0)]),u("div",Jt,[l(d,{onClick:e[17]||(e[17]=t=>O.value=!1)},{default:a(()=>[...e[42]||(e[42]=[r("关闭",-1)])]),_:1}),l(d,{type:"primary",onClick:Ke,loading:K.value,disabled:!et.value},{default:a(()=>[...e[43]||(e[43]=[r("保存所有标记",-1)])]),_:1},8,["loading","disabled"])])])]),default:a(()=>[u("div",Ft,[u("div",At,[u("div",Dt,[l(D,{modelValue:k.classId,"onUpdate:modelValue":e[16]||(e[16]=t=>k.classId=t),placeholder:"请选择班级",style:{width:"200px"},onChange:Pe},{default:a(()=>[(o(!0),m(q,null,N(E.value,t=>(o(),f(x,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),k.classId?(o(),m("div",qt,[l(d,{type:"success",size:"small",onClick:He,disabled:!Ye.value},{default:a(()=>[...e[40]||(e[40]=[r("批量标记选中",-1)])]),_:1},8,["disabled"]),l(d,{type:"warning",size:"small",onClick:Je},{default:a(()=>[...e[41]||(e[41]=[r("清空选择",-1)])]),_:1}),u("span",Nt,"已选择: "+v(Ze.value)+" 项",1)])):_("",!0)]),k.classId&&F.value.length>0?(o(),m("div",Bt,[l(Ie,{data:X.value,border:"",stripe:"","max-height":"500px",onSelectionChange:Qe},{default:a(()=>[l(I,{type:"selection",width:"55",align:"center"}),l(I,{prop:"studentName",label:"学生姓名",width:"120",fixed:"left"},{default:a(({row:t})=>[u("div",Tt,[u("div",jt,v(t.studentName.charAt(0)),1),u("span",null,v(t.studentName),1)])]),_:1}),(o(!0),m(q,null,N(B.value,t=>(o(),f(I,{key:t.id,label:t.title,width:150,align:"center"},{header:a(()=>[u("div",Et,[u("div",Gt,v(t.title),1),l(H,{size:"small",type:Xe(t.category)},{default:a(()=>[r(v(t.category),1)]),_:2},1032,["type"])])]),default:a(({row:z})=>[l(d,{type:ve(z.studentId,t.id)?"success":"primary",icon:ve(z.studentId,t.id)?"Check":"Plus",size:"small",onClick:Zt=>Oe(z.studentId,t.id),disabled:K.value},{default:a(()=>[r(v(ve(z.studentId,t.id)?"已标记":"标记"),1)]),_:2},1032,["type","icon","onClick","disabled"])]),_:2},1032,["label"]))),128))]),_:1},8,["data"])])):_("",!0),k.classId&&F.value.length===0?(o(),m("div",Lt,[l(we,{description:"该班级暂无学生"})])):_("",!0),k.classId?_("",!0):(o(),m("div",Pt,[l(we,{description:"请先选择班级"})]))])]),_:1},8,["modelValue"]),l(Z,{modelValue:P.value,"onUpdate:modelValue":e[24]||(e[24]=t=>P.value=t),title:"手动打卡",width:"600px"},{footer:a(()=>[l(d,{onClick:e[23]||(e[23]=t=>P.value=!1)},{default:a(()=>[...e[44]||(e[44]=[r("取消",-1)])]),_:1}),l(d,{type:"primary",onClick:Ge,loading:oe.value},{default:a(()=>[...e[45]||(e[45]=[r("确认打卡",-1)])]),_:1},8,["loading"])]),default:a(()=>[l(me,{model:i,rules:Re,ref_key:"manualCheckFormRef",ref:be,"label-width":"100px"},{default:a(()=>[l(w,{label:"选择班级",prop:"classId"},{default:a(()=>[l(D,{modelValue:i.classId,"onUpdate:modelValue":e[19]||(e[19]=t=>i.classId=t),placeholder:"请选择班级",style:{width:"100%"},onChange:je},{default:a(()=>[(o(!0),m(q,null,N(E.value,t=>(o(),f(x,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(w,{label:"选择学生",prop:"studentId"},{default:a(()=>[l(D,{modelValue:i.studentId,"onUpdate:modelValue":e[20]||(e[20]=t=>i.studentId=t),placeholder:"请选择学生",style:{width:"100%"},disabled:!i.classId},{default:a(()=>[(o(!0),m(q,null,N(W.value,t=>(o(),f(x,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),l(w,{label:"选择课文",prop:"articleId"},{default:a(()=>[l(D,{modelValue:i.articleId,"onUpdate:modelValue":e[21]||(e[21]=t=>i.articleId=t),placeholder:"请选择课文",style:{width:"100%"},onChange:Ee},{default:a(()=>[(o(!0),m(q,null,N(B.value,t=>(o(),f(x,{key:t.id,label:t.title,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),S.value?(o(),f(w,{key:0,label:"课文内容"},{default:a(()=>[u("div",Kt,[u("h4",null,v(S.value.title),1),u("p",Wt,v(S.value.content),1),u("div",Xt,[l(H,null,{default:a(()=>[r(v(S.value.category),1)]),_:1}),l(H,{type:"warning"},{default:a(()=>[r("难度: "+v(S.value.difficulty),1)]),_:1})])])]),_:1})):_("",!0),l(w,{label:"备注"},{default:a(()=>[l(Y,{modelValue:i.remark,"onUpdate:modelValue":e[22]||(e[22]=t=>i.remark=t),type:"textarea",rows:3,placeholder:"请输入备注（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},al=pt(Yt,[["__scopeId","data-v-4dec5ea1"]]);export{al as default};
